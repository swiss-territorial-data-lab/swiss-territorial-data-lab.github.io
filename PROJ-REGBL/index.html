
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.1">
    
    
      
        <title>COMPLETION OF THE FEDERAL REGISTER OF BUILDINGS AND DWELLINGS - Swiss Territorial Data Lab</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#completion-of-the-federal-register-of-buildings-and-dwellings" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Swiss Territorial Data Lab" class="md-header-nav__button md-logo" aria-label="Swiss Territorial Data Lab">
      
  <img src="../assets/logo-stdl-transparent.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Swiss Territorial Data Lab
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              COMPLETION OF THE FEDERAL REGISTER OF BUILDINGS AND DWELLINGS
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/swiss-territorial-data-lab" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    STDL on Github
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Swiss Territorial Data Lab" class="md-nav__button md-logo" aria-label="Swiss Territorial Data Lab">
      
  <img src="../assets/logo-stdl-transparent.svg" alt="logo">

    </a>
    Swiss Territorial Data Lab
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/swiss-territorial-data-lab" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    STDL on Github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Homepage" class="md-nav__link">
      Homepage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/swiss-territorial-data-lab" title="GitHub" class="md-nav__link">
      GitHub
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#research-project-specifications" class="md-nav__link">
    Research Project Specifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#research-data-selected-areas" class="md-nav__link">
    Research Data &amp; Selected Areas
  </a>
  
    <nav class="md-nav" aria-label="Research Data &amp; Selected Areas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#federal-register-of-buildings-and-dwellings" class="md-nav__link">
    Federal Register of Buildings and Dwellings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#national-maps" class="md-nav__link">
    National Maps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#research-approaches" class="md-nav__link">
    Research Approaches
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#research-approach-national-maps" class="md-nav__link">
    Research Approach: National Maps
  </a>
  
    <nav class="md-nav" aria-label="Research Approach: National Maps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reliability-of-the-data" class="md-nav__link">
    Reliability of the Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric" class="md-nav__link">
    Metric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methodology" class="md-nav__link">
    Methodology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results" class="md-nav__link">
    Results
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#research-approach-statistical" class="md-nav__link">
    Research Approach: Statistical
  </a>
  
    <nav class="md-nav" aria-label="Research Approach: Statistical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metric_1" class="md-nav__link">
    Metric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methodology_1" class="md-nav__link">
    Methodology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results_1" class="md-nav__link">
    Results
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion_1" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reproduction-resources" class="md-nav__link">
    Reproduction Resources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="completion-of-the-federal-register-of-buildings-and-dwellings">COMPLETION OF THE FEDERAL REGISTER OF BUILDINGS AND DWELLINGS<a class="headerlink" href="#completion-of-the-federal-register-of-buildings-and-dwellings" title="Permanent link">&para;</a></h1>
<p>Nils Hamel (UNIGE) - Huriel Reichel (swisstopo)</p>
<p>Proposed by the Federal Statistical Office - TASK-REGBL <br />
December 2020 to February 2021 - Published on March 2, 2021</p>
<p><br /></p>
<p><em><strong>Abstract</strong>: The Swiss Federal Statistical Office is in charge of the national Register of Buildings and Dwellings (RBD) which keeps track of every existing building in Switzerland. Currently, the register is being completed with buildings in addition to regular dwellings to offer a reliable and official source of information. The completion of the register introduced issues due to missing information and their difficulty to be collected. The construction year of the buildings is one missing information for a large amount of register entries. The Statistical Office mandated the STDL to investigate on the possibility to use the Swiss National Maps to extract this missing information using an automated process. A research was conducted in this direction with the development of a proof-of-concept and a reliable methodology to assess the obtained results.</em></p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>The Swiss <em>Federal Statistical Office</em> [1] is responsible of maintaining the <em>Federal Register of Buildings and Dwellings</em> (<em>RBD</em>) in which a collection of information about buildings and homes are stored. Currently, a completion operation of the register is being conducted to include to it any type of construction on the Swiss territory.</p>
<p>Such completion operation comes with many challenges including the gathering of the information related to the construction being currently integrated to the register. In this set of information are the construction years of the buildings. Such information is important to efficiently characterise each Swiss building and to allow the <em>Statistical Office</em> to provide a reliable register to all actors relying on it.</p>
<p>The construction year of buildings turns out to be complicated to gather, as adding new buildings to the register already impose an important workload even for the simple information. In addition, in many cases, the construction year of the building is missing or can not be easily collected to update the register.</p>
<p>The <em>Statistical Office</em> mandated the <em>STDL</em> to perform researches on the possibility to automatically gather the construction year by analysing the <em>swisstopo</em> [3] <em>National Maps</em> [4]. Indeed, the Swiss national maps are known for their excellency, their availability on any geographical area, and for their temporal cover. The national maps are made with a rigorous and well controlled methodology from the <em>1950s</em> and therefore they can be used as a reliable source of information to determine the buildings' construction year.</p>
<p>The <em>STDL</em> was then responsible for performing the researches and developing a proof-of-concept to provide all the information needed to the <em>Statistical Office</em> for them to take the right decision on considering national maps as a reliable way of assigning a construction year for the buildings lacking information.</p>
<div align="center">
<img src="image/separator.gif?raw=true" width="5%">
</div>

<h2 id="research-project-specifications">Research Project Specifications<a class="headerlink" href="#research-project-specifications" title="Permanent link">&para;</a></h2>
<p>Extracting the construction date out of the national maps is a real challenge, as the national maps are a heavy dataset, they are not easy to be considered as a whole. In addition, the <em>Statistical Office</em> needs the demonstration that it can be done in a reliable way and within a reasonable amount of time to limit the cost of such process. They are also subjected to strict tolerances on the efficiency of the construction years extraction through an automated process. The goal of at least <em>80</em>% of overall success was then provided as a constraint to the <em>STDL</em>.</p>
<p>As a result, the research specifications for the <em>STDL</em> were:</p>
<ul>
<li>
<p>Gathering and understanding the data related to the problem</p>
</li>
<li>
<p>Developing a proof-of-concept demonstrating the possibility to extract the construction years from the national maps</p>
</li>
<li>
<p>Assessing the results with a reliable metric to allow demonstrating the quality and reliability of the obtained construction years</p>
</li>
</ul>
<div align="center">
<img src="image/separator.gif?raw=true" width="5%">
</div>

<h2 id="research-data-selected-areas">Research Data &amp; Selected Areas<a class="headerlink" href="#research-data-selected-areas" title="Permanent link">&para;</a></h2>
<p>In this research project, two datasets were considered: the building register itself and the national maps. As both datasets are heavy and complex, considering them entirely for such a research project would have been too complicated and unnecessary. It was then decided to focus on four areas selected for their representativeness of Swiss landscape:</p>
<ul>
<li>
<p>Basel (BS): Urban area</p>
</li>
<li>
<p>Bern (BE): Urban and peri-urban area</p>
</li>
<li>
<p>Biasca (TI): Rural and mountainous</p>
</li>
<li>
<p>Caslano (TI): Peri-urban and rural</p>
</li>
</ul>
<p>The following images give a geographical illustration of the selected areas through their most recent map:</p>
<div align="center" style="font-style: italic">
<img src="image/area-illustration.gif?raw=true" width="90%"> <br />
Illustration of the selected areas: Basel (2015), Bern (2010), Biasca (2012) and Caslano (2009) <br />
 Data: swisstopo
</div>

<p>Basel was selected as it was one example of an area on which the building register was already well filled in terms of construction years. The four regions are <em>6km</em> by <em>6km</em> squared areas which allows up to twenty thousand buildings to be considered on a single one.</p>
<h3 id="federal-register-of-buildings-and-dwellings">Federal Register of Buildings and Dwellings<a class="headerlink" href="#federal-register-of-buildings-and-dwellings" title="Permanent link">&para;</a></h3>
<p>The register of buildings is a formal database composed with entries, each of them representing a specific building. Each entry comes with a set of information related to the building they describe. In this project, a sub-set of these informations was considered:</p>
<ul>
<li>
<p>Federal identifier of the building (EGID)</p>
</li>
<li>
<p>The position of the building, expressed in the <em>EPGS:2056</em> (GKODE, GKODN)</p>
</li>
<li>
<p>The building construction year, when available (GBAUJ)</p>
</li>
<li>
<p>The surface of the building, when available, expressed in square metres (GAREA)</p>
</li>
</ul>
<p>In addition, tests were conducted by considering the position of the entries of each building. In turned out rapidly that they were not useful in this research project as they were missing on a large fraction on the register and only providing a redundant information according to the position of the buildings.</p>
<p>The following table gives a summary of the availability of the construction year in the register according to the selected areas:</p>
<div align="center">
<table width="90%">
    <tr>
    <th>Area</th>
    <th>Buildings</th>
    <th>Available years</th>
    <th>Missing fraction </th>
    </tr>
    <tr>
    <td>Basel</td>
    <td>17’088</td>
    <td>16’584</td>
    <td>3%</td>
    </tr>
    <tr>
    <td>Bern</td>
    <td>21’251</td>
    <td>4’499</td>
    <td>79%</td>
    </tr>
    <tr>
    <td>Biasca</td>
    <td>3’774</td>
    <td>1’346</td>
    <td>64%</td>
    </tr>
    <td>Caslano</td>
    <td>5’252</td>
    <td>2’452</td>
    <td>53%</td>
    </tr>
</table>
</div>

<p>One can see that the amount of missing construction year can be large depending on the considered area.</p>
<h3 id="national-maps">National Maps<a class="headerlink" href="#national-maps" title="Permanent link">&para;</a></h3>
<p>On the side of the national maps, the dataset is more complex. In addition to the large number of available maps, variations of them can also be considered. Indeed, maps are made for different purposes and come with variations in their symbology to emphasise elements on which they focus. Moreover, for modern years, sets of vector data can also be considered in parallel to maps. Vector data are interesting as they allow to directly access the desired information, that is the footprint of the building without any processing required. The drawback of the vector data is their temporal coverage which is limited to the last ten to twenty years.</p>
<p>The following images give an illustration of the aspect of the available maps and vector datasets considering the example of the <em>Bern</em> area. Starting with the <em>traditional maps</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/map-variation-komb-kgrs-krel.gif?raw=true" width="90%"> <br />
Available map variations: KOMB, KGRS and KREL - Data: swisstopo
</div>

<p>and the more specific and vector ones:</p>
<div align="center" style="font-style: italic">
<img src="image/map-variation-situ-geb-vector.gif?raw=true" width="90%"> <br />
Available map variations: SITU, GEB and DKM25-GEB (vector) - Data: swisstopo
</div>

<p>In addition to the number of available variations and data types, they all come with their specific temporal coverage. In the case of this research project, we tried to go back in time as much as possible, simplifying the choice for the older maps. The question still remains for more modern times.</p>
<p>As we are mostly interesting in buildings, the availability of already extracted building layers, that can be either raster or vector data, is highly interesting. But the problem of data selection is complex in our case. Indeed, no matter the choice, on the older times, the only available maps have to be considered. In addition to building footprint access, the question of the continuity of the data as to be considered with care. More than building footprints, we are interested in the continuity of these footprints, in order to be able to safely assume the cycle of life of the tracker buildings.</p>
<p>This consideration led us to discover variation in methodologies depending on the considered set of data. Indeed, buildings are not <em>shaped</em> in the same way on <em>traditional maps</em> than they are in layer focusing on them. It follows that variation of the symbology, so do the shape of the building, appears between <em>traditional maps</em> and building layers (raster and vector). These variations can lead to <em>shocks</em> going from a map to the one preceding it in time. This can break the continuity of the building footprints along time, making them much more difficult to track safely.</p>
<p>This is the reason we choose to focus on the <em>KOMB</em> variation of the maps. These maps are very stable and covers the largest temporal ranges. The methodology was kept very similar along the years, making this dataset much more reliable to work with when the time dimension is considered. Only considering the <em>KOMB</em> variation of the maps also allows to ensure that all source data is treated the same in the processing pipeline, easing the assessment of the results.</p>
<p>In addition, the <em>KOMB</em> maps are dense in information and come with colorimetry of their symbology. This opens the possibility to more easily extract the information we need in this project, that are the building footprints. One exception was made concerning the <em>KOMB</em> maps: in their very latest version, the methodology changed, causing the symbology to be different with the older <em>KOMB</em> maps. In their latest version, texts are much more numerous and tend to cover a large amount of the buildings, making them <em>invisible</em>. For this reason, their latest version was dropped, slightly reducing the temporal coverage on the 2015-2020 period.</p>
<p>Selecting the <em>KOMB</em> variation allowed us to obtain the following temporal coverage for the four selected areas:</p>
<div align="center">
<table width="90%">
    <tr>
    <th>Area</th>
    <th>Oldest map</th>
    <th>Latest map</th>
    <th>Mean separation</th>
    </tr>
    <tr>
    <td>Basel</td>
    <td>1955</td>
    <td>2015</td>
    <td>5.5 Years</td>
    </tr>
    <tr>
    <td>Bern</td>
    <td>1954</td>
    <td>2010</td>
    <td>5.6 Years</td>
    </tr>
    <tr>
    <td>Biasca</td>
    <td>1970</td>
    <td>2012</td>
    <td>6.0 Years</td>
    </tr>
    <td>Caslano</td>
    <td>1953</td>
    <td>2009</td>
    <td>6.2 Years</td>
    </tr>
</table>
</div>

<p>One can see that a large portion of the <em>20th</em> century can be covered using the maps with a very good resolution of around five to six years between the maps.</p>
<div align="center">
<img src="image/separator.gif?raw=true" width="5%">
</div>

<h2 id="research-approaches">Research Approaches<a class="headerlink" href="#research-approaches" title="Permanent link">&para;</a></h2>
<p>In this research project, the main focus was put on the national maps to extract the construction year of buildings as the maps are sources on which we can rely and assess the results. The only drawback of the maps is their limited temporal coverage, as they only start to be available in the <em>1950s</em>.</p>
<p>This is the reason why another experimental approach was also added to address the cases of building being built before the <em>1950s</em>. This secondary approach focused on a statistical methodology to verify to which extent it could be possible to assign a construction date even in the case no maps are available.</p>
<ul>
<li>
<p><strong>National Maps</strong>: This main approach focuses on the national maps from which the construction year of a building is deduced from a temporal analysis of the maps. Each building is tracked until it disappears or change its shape on a given map allowing to deduce that the construction of the building was made in the gap separating the map and its successor one.</p>
</li>
<li>
<p><strong>Statistical Analysis</strong>: This method is based on the principle of spatial dependence and furthermore on concentric zones of urban development. This is technically an interpolator which deduces construction years based first on different searching radii for difference variances, second by splitting the data in quantiles and, finally, by a gaussian mixture model unsupervised learning technique to gather the final predictions.</p>
</li>
</ul>
<p>The statistical analysis allows then to consider buildings that were detected on all maps, meaning their construction is older than the oldest available map, to assign them an estimation of their construction year, knowing they had to be older than the oldest map.</p>
<div align="center">
<img src="image/separator.gif?raw=true" width="5%">
</div>

<h2 id="research-approach-national-maps">Research Approach: National Maps<a class="headerlink" href="#research-approach-national-maps" title="Permanent link">&para;</a></h2>
<p>In order to detect construction year of buildings, we need to be able to track them down on the maps across the temporal coverage. The <em>RBD</em> is providing the reference list of the building, each coming with a federal identifier (<em>EGID</em>) and a position. This position can then be used to track down the building on maps for its appearance or morphological change.</p>
<p>As the maps are already selected, as the research areas, this research approach can be summarised in the following way:</p>
<ul>
<li>
<p>Translating maps into binary images containing only building</p>
</li>
<li>
<p>Extracting the <em>RBD</em> buildings related to the analysed area</p>
</li>
<li>
<p>Detection procedure of the buildings on the maps</p>
</li>
<li>
<p>Detection of the morphological variation of the buildings</p>
</li>
<li>
<p>Assessment of the obtained results</p>
</li>
</ul>
<p>The four first points are related to the development of the proof-of-concept. The last one concern a very sensitive and complicated question relative to the considered problem: how to analyse and assess the obtained results. This question was to most difficult question in this research, and finding a clear and reliable answer is mandatory before to develop anything. For this reason, it is considered in the first place.</p>
<h3 id="reliability-of-the-data">Reliability of the Data<a class="headerlink" href="#reliability-of-the-data" title="Permanent link">&para;</a></h3>
<p>Assessing the results is essentially having a strong reference allowing to compare both in order to obtain a reliable characterisation of the success rate in the deduction of the construction years. This question leads to the discovery that this problem is much more complex that and can appear in the first place.</p>
<p>Indeed, we were warned by the <em>Statistical Office</em> that the <em>RBD</em>, considering the construction years it already gives, can be unreliable on some of its portions. This can be explained by the fact that collecting such information is a long and complicated administrative process. As an example, the following image gives an illustration of a building tracked on each of the available selected maps:</p>
<div align="center" style="font-style: italic">
<img src="image/regbl-wrong-1.gif?raw=true" width="90%"> <br />
Temporal track of a selected building
</div>

<p>On this illustration, one can see two things: the <em>RBD</em> announce a construction year in <em>1985</em>; the maps are clearly indicating something different, locating its construction year between <em>1963</em> and <em>1969</em>. So both datasets are contradicting each other. In order to solve the contradiction, we manually searched for historical aerial images. The following images illustrate what was found:</p>
<div align="center" style="font-style: italic">
<img src="image/regbl-wrong-2.jpg?raw=true" width="90%"> <br />
Aerial view of the building situation: 1963, 1967 and 1987 - Data: swisstopo
</div>

<p>One can clearly see that the maps seem to give the correct answer concerning the construction date of this specific building, the <em>RBD</em> being contradicted by two other sources. This illustrates the fact that the <em>RBD</em> can not be directly considered as a reliable reference to assess the results.</p>
<p>The same question applies for the maps. Even if it is believed that they are highly reliable, one has to be careful with such consideration. Indeed, looking at the following example:</p>
<div align="center" style="font-style: italic">
<img src="image/map-wrong-1.gif?raw=true" width="90%"> <br />
Temporal track of a selected building
</div>

<p>In this case, the <em>RBD</em> gives <em>1986</em> as the construction date of the pointed building. The maps are giving a construction year between <em>1994</em> and <em>2000</em>. Again, the two datasets are contradicting each other. The same procedure was conducted to solve the contradiction:</p>
<div align="center" style="font-style: italic">
<img src="image/map-wrong-2.jpg?raw=true" width="90%"> <br />
Aerial view of the building situation: 1970, 1986 and 1988 - Data: swisstopo
</div>

<p>Looking at the aerial images, it seems that the tracked building was there in <em>1988</em>. One can see that the map in <em>1994</em> continue to represent the four old buildings instead on the new one. It's only in <em>2000</em> that the maps are correctly representing the new building. This shows that despite maps are a reliable source of geo-information, they can also be subjected to delay in their symbology.</p>
<p>The maps also come with the problem of the consistency of the building footprint symbology. Looking at the following example:</p>
<div align="center" style="font-style: italic">
<img src="image/map-symbology-1.gif?raw=true" width="90%"> <br />
Temporal track of a selected building
</div>

<p>one can see that the maps seem to indicate a strange evolution of the situation: a first building appears in <em>1987</em> and it is destroyed and replaced by a larger one in <em>1993</em>. Then, this new large building seems to have been destroyed right after its construction to be replaced by a new one in <em>1998</em>. Considering aerial images of the building situation:</p>
<div align="center" style="font-style: italic">
<img src="image/map-symbology-2.jpg?raw=true" width="90%"> <br />
Aerial image view of the building situation: 1981, 1987 and 1993 - Data: swisstopo
</div>

<p>one can clearly see that a first building was constructed and completed by an extension between <em>1987</em> and <em>1993</em>. This shows an illustration where the symbology of the building footprints can be subjected to variation than can be de-synchronised regarding the <em>true</em> situation.</p>
<h3 id="metric">Metric<a class="headerlink" href="#metric" title="Permanent link">&para;</a></h3>
<p>In such context, neither the <em>RBD</em> or the national maps can be formally considered as a reference. It follows that we are left without a solution to assess our results, and more problematically, without any metric able to guide the developments of the proof-of-concept in the right direction.</p>
<p>To solve the situation, one hypothesis is made in this research project. Taking into account both the <em>RBD</em> and the national maps, one can observe that both are built using methodologies that are very different. On one hand, the <em>RBD</em> is built out of a complex administrative process, gathering the required information in a step by step process, going from <em>communes</em> to <em>cantons</em>, and finally to the <em>Statistical Office</em>. On the other hand, the national maps are built using regular aerial image campaigns conducted over the whole Switzerland. The process of establishing maps is quite old and can then be considered as well controlled and stable.</p>
<p>Both datasets are then made with methodologies that can be considered as fully independent from each other. This led us to the formulation of our hypothesis:</p>
<ul>
<li><strong>Hypothesis</strong>: As the <em>RBD</em> and national maps are the results of independent methodologies, an error in one dataset is very unlikely to compensate an error in the other. In other words, if the <em>RBD</em> and the national maps agree on the construction year of a building, this information can be considered as a reliable reference, as it would be very unlikely to have two errors leading to such agreement.</li>
</ul>
<p>One should remain careful with this hypothesis, despite it sounds reasonable. It would be very difficult to assess it as requiring to gather complex confirmation data that would have to be independent of the <em>RBD</em>, the national maps and the aerial images (as maps are based on them). This assumption is the only one made in this research project.</p>
<p>Accepting this assumption leads us to the possibility to establish a formal reference that can be used as a metric to assess the results and to guide the development of the proof-of-concept. But such reference has to be made with care, as the problem remains complex. To illustrate this complexity, the following figure gives a <em>set representation</em> of our problem:</p>
<div align="center" style="font-style: italic">
<img src="image/set-representation.gif?raw=true" width="90%"> <br />
Set representation of the RBD completion problem
</div>

<p>The two rectangles represent the set of buildings for a considered area. On the left, one can see the building set from the <em>RBD</em> point of view. The grey area shows the building without the information of their construction year. Its complementary set is split in two sub-sets that are the buildings having a construction year that is absolutely correct and absolutely incorrect (the limit between both is subject to a bit of interpretation, as the construction year is not a strong concept). If a reference can be extracted, it should be in the green sub-set. The problem is that we have no way of knowing which building are in which sub-set. So the national maps were considered to define another sub-set: the synchronous sub-set where both <em>RBD</em> and national maps agree.</p>
<p>To build the metric, the <em>RBD</em> sub-set of buildings coming with the information of the construction year is randomly sub-sampled to extract a representative sub-set: the <em>potentials</em>. This sub-set of <em>potentials</em> is then manually analysed to separate the building on which both datasets agree and to reject the other. At the end of the process, the <em>metric</em> sub-set is obtained and should remain representative.</p>
<p>On the right of the <em>set representation</em> is the view of the buildings set through the national maps. One can see that the same sub-set appears but it replaces the construction years by the representation of the building on the maps. The grey part is then representing the building that are not represented on the maps because of their size or because they can be hidden by the symbology for example. The difference is that the maps do not give access to the construction years directly, but they are read from the maps through our developed detector. The detector having a success rate, it cuts the whole set of sub-sets in half, which is exactly what we need for out metric. If the metric sub-set remains representative, the success rate of the detector evaluated on it should generalise to the whole represented buildings.</p>
<p>This <em>set representation</em> demonstrates that the problem is very complex and has to be handled with care. Considering only the six most important sub-set and considering construction year are extracted by the detector from the maps, it means that up to <em>72</em> specific case can apply on each building randomly selected.</p>
<p>To perform the manual selection, a random selection of potential buildings was made on the <em>RBD</em> set of buildings coming with a construction year. The following table summarises the selection and manual validation:</p>
<div align="center">
<table width="90%">
    <tr>
    <th>Area</th>
    <th>Potentials</th>
    <th>Metric</th>
    </tr>
    <tr>
    <td>Basel</td>
    <td>450 EGIDs</td>
    <td>209 EGIDs</td>
    </tr>
    <tr>
    <td>Bern</td>
    <td>450 EGIDs</td>
    <td>180 EGIDs</td>
    </tr>
    <tr>
    <td>Biasca</td>
    <td>336 EGIDs</td>
    <td>209 EGIDs</td>
    </tr>
    <td>Caslano</td>
    <td>450 EGIDs</td>
    <td>272 EGIDs</td>
    </tr>
</table>
</div>

<p>The previous table gives the result of the second manual validation. Indeed, two manual validation sessions were made, with several weeks in-between, to check the validation process and how it evolved with the increase of the view of the problem.</p>
<p>Three main critics can then be addressed to the metric: the first one is that establishing validation criterion is not simple as the number of cases in which buildings can fall is very high. Understanding the problem takes time and requires to <em>see</em> a lot of these cases. It then follows that the second validation session was more stable and rigorous than the first one.</p>
<p>The second critic that can be made on our metric is the selection bias. As the process is made by a human, it is affected by its way of applying the criterion and more specifically on by its severity on their application. Considering the whole <em>potentials</em> sub-set, one can conclude that a few buildings could be rejected and validated depending on the person doing the selection.</p>
<p>The last critic concerns specific cases for which the asynchronous criterion to reject them is weak. Indeed, for some buildings, the situation is very unclear in the way the <em>RBD</em> and the maps give information that can not be understood. This is the case for example when the building is not represented on the map. This can be the position in the <em>RBD</em> or the lack of information on the maps that lead to such an unclear situation. These cases are then rejected, but without being fully sure of the asynchronous aspect regarding the maps and the <em>RBD</em>.</p>
<h3 id="methodology">Methodology<a class="headerlink" href="#methodology" title="Permanent link">&para;</a></h3>
<p>With a reliable metric, results can be assessed and the development of the proof-of-concept can be properly guided. As mentioned above, the proof-of-concept can be split in four major steps that are the processing of the maps, the extraction of the <em>RBD</em> buildings, detection of the building on the maps and detection in morphological changes.</p>
<h4>National Maps Processing</h4>
<p>In order to perform the detection of building on the maps, a reliable methodology is required. Indeed, one could perform the detection directly on the source maps but this would lead to a complicated process. Indeed, maps are mostly the result of the digitisation of paper maps creating a large number of artefacts on the digital images. This would lead to an unreliable way of detecting building as a complicated decision process would have to be implemented each time a <em>RBD</em> position is checked on each map.</p>
<p>A map processing step was then introduced in the first place allowing to translate the color digitised images into reliable binary images on which building detection can be made safely and easily. The goal of this process is then to create a binary version of each map with black pixels indicating the building presence. A method of extracting buildings on maps was then designed.</p>
<p>Considering the following example of a map cropped according to a defined geographical area (<em>Basel</em>):</p>
<p align="center">
<img src="image/map-basel-2005.jpg?raw=true" width="35%">
&nbsp;
<img src="image/map-basel-2005-crop.jpg?raw=true" width="35%">
<br />
<i>Example of a considered map: Basel in 2005 and closer view - Data: swisstopo</i>
</p>

<p>The first step of the map processing methodology is to correct and standardise the exposure of the digitised maps. Indeed, as maps mostly result of a digitisation process, they are subjected to exposure variation due to the digitisation process. A simple standardisation is then applied.</p>
<p>The next step consists in black pixel extraction. Each pixel of the input map is tested to determine whether or not it can be considered as black using specific thresholds. As the building are drawn in black, extracting black pixels is a first way of separating the buildings from the rest of the symbology. The following result is obtained:</p>
<p align="center">
<img src="image/map-basel-2005-black.jpg?raw=true" width="35%">
&nbsp;
<img src="image/map-basel-2005-crop-black.jpg?raw=true" width="35%">
<br />
<i>Result of the black extraction process</i>
</p>

<p>As one can see on the result of the black extraction process, the buildings are still highly connected to other symbological elements and to each others in some cases. Having the building footprints well separated and well defined is an important point for subsequent processes responsible of construction years deduction. To achieve it, two steps are added. The first one uses a variation of the Conway <em>game of life</em> [5] to implement a morphological operator able to disconnect pixel groups. The following image gives the results of this separation process along with the previous black extraction result on which it is based:</p>
<p align="center">
<img src="image/map-basel-2005-crop-black.jpg?raw=true" width="35%">
&nbsp;
<img src="image/map-basel-2005-crop-conway.jpg?raw=true" width="35%">
<br />
<i>Result of the morphological operator (right) compare to the previous black extraction (left)</i>
</p>

<p>As the morphological operator provides the desired result, it also shrinks the footprint of the elements. It allows to eliminate a lot of structures that are not buildings, but it also reduces the footprint of the buildings themselves, which can increase the amount of work to perform by the subsequent processes to properly detect a building. To solve this issue and to obtain building footprints that are as close as possible to the original map, a controlled re-growing step is added. It uses a region threshold and the black extraction result to re-grow the buildings without going any further of their original definition. The following images give a view of the final result along with the original map:</p>
<p align="center">
<img src="image/map-basel-2005-crop.jpg?raw=true" width="35%">
&nbsp;
<img src="image/map-basel-2005-crop-final.jpg?raw=true" width="35%">
<br />
<i>Final result of the building footprints extraction (right) compared to the original map</i>
</p>

<p>As the Conway morphological operator is not able to get rid of all the non-building elements, such as large and bold texts, the re-growing final step also thickening them along with the building footprints. Nevertheless, the obtained binary image is able to keep most of the building footprint intact while eliminating most of the other element of the map as illustrated on the following image:</p>
<div align="center" style="font-style: italic">
<img src="image/map-processing-illustration.gif?raw=true" width="70%"> <br />
Extracted building footprints, in pink, superimposed on the Bern map
</div>

<p>The obtained binary images are then used for both detection of building and detection of morphological changes as the building are easy to access and to analyse on such representation.</p>
<h4>Building Extraction from RBD</h4>
<p>In the case of limited geographical areas as in this research project, extracting the relevant buildings from the <em>RBD</em> was straightforward. Indeed, the <em>RBD</em> is a simple <em>DSV</em> database that is very easy to understand and to process. The four areas were packed into a single <em>DSV</em> file and the relevant building were selected through a very simple geographical filtering. Each area being defined by a simple geographical square, selecting the buildings was only a question of checking if their position was in the square or not.</p>
<h4>Building Detection Process</h4>
<p>Based on the computed binary images, each area can be temporally covered with maps on which building can be detected. Thanks to the processed maps, this detection is made easily, as it was reduced to detect black pixels in a small area around the position of the building provided in the <em>RBD</em>. For each building in the <em>RBD</em>, its detection on each temporal version of the map is made to create a <em>presence table</em> of the building. Such table is simply a Boolean value indicating whether a building was there or not according to the position provided in the <em>RBD</em>.</p>
<p>The following images give an illustration of the building detection process on a given temporal version of a selected map:</p>
<p align="center">
<img src="image/map-basel-2005-tracker-original.jpg?raw=true" width="35%">
&nbsp;
<img src="image/map-basel-2005-tracker-segmented.jpg?raw=true" width="35%">
<br />
<i>Detection overlay superimposed on its original map (left) and on its binary counterpart (right)</i>
</p>

<p>One can see that for each building and for each temporal version of the map, the decision of a building presence can be made. At the end of this process, each building is associated to a list of presence at each year corresponding to an available map.</p>
<h4>Morphological Change Detection</h4>
<p>Detecting the presence of a building on each temporal version of the map is a first step but is not enough to determine whether or not it is the desired building. Indeed, a building can be replaced by another along the time dimension without creating a discontinuity in the presence timeline. This would lead to misinterpret the presence of building with another one, leading the construction year to be deduced too far in time. This can be illustrated by the following example:</p>
<div align="center" style="font-style: italic">
<img src="image/morpholocial-change.gif?raw=true" width="90%"> <br />
Example of building being replaced by another one without introducing a gap in the presence table
</div>

<p>In case the detection of the presence of the building is not enough to correctly deduce a construction year, a morphological criterion is added. Many different methodologies have been tried in this project, going from signature to various quantities deduce out of the footprint of the building. The most simple and most reliable way was to focus on the <em>pixel count</em> of the building footprint, which corresponds to its surface in geographical terms.</p>
<p>A morphological change is considered as the surface of the building footprint changes up to a given threshold along the building presence timeline. In such a case, the presence timeline is broken at the position of the morphological change, interpreting it in the same way as a formal <em>appearance</em> of a building.</p>
<p>Introducing such criteria allowed to significantly improve our results, especially in the case of urban centers. Indeed, in modern cities, large number of new buildings were built just after a previous building was being destroyed due to the lack of spaces left for new constructions.</p>
<h3 id="results">Results<a class="headerlink" href="#results" title="Permanent link">&para;</a></h3>
<p>The developed proof-of-concept is applied on the four selected areas to deduce construction year for each building appearing in the <em>RBD</em>. With the defined metric, it is possible to assess the result in a reliable manner. Nevertheless, assessing the results with clear representations is not straightforward. In this research project, two representations were chosen:</p>
<ul>
<li>
<p><strong>Histogram of the success rate</strong>: For this representation, the building of the metric are assigned to temporal bins of ten years in size and the success rate of the construction year is computed for each bins.</p>
</li>
<li>
<p><strong>Distance and pseudo-distance distribution</strong>: As the previous representation only gives access to a binary view of the results, a distance representation is added to understand to which extent mistakes are made on the deduction of a construction year. For buildings detected between two maps, the temporal middle is assumed as the guessed construction year, allowing to compute a formal distance with its reference. In case a building is detected before or beyond the map range, a pseudo-distance of zero is assigned in case the result is correct according to the reference. Otherwise, the deduced year (that is necessarily between two maps) is compared to its reference <em>extremal map</em> date to obtain an error pseudo-distance.</p>
</li>
</ul>
<p>In addition to the manually defined metric, the <em>full RBD</em> metric is also considered. As the construction years provided in the <em>RBD</em> have to be considered with care, as part of them are incorrect, comparing the results obtained the <em>full RBD</em> metric and the metric we manually defined opens the important question of the synchronisation between the maps and the <em>RBD</em>, viewed from the construction perspective.</p>
<h4>Results: Basel Area</h4>
<p>The following figures give the <em>Basel</em> area result using the histogram representation. The left plot uses the <em>full RBD</em> metric while the right one uses the manually validated one:</p>
<div align="center" style="font-style: italic">
<img src="image/basel-hist.gif?raw=true" width="90%"> <br />
Histogram of the success rate - Ten years bins
</div>

<p>One can see one obvious element that is the result provided by the <em>full RBD</em> metric (left) and the manually validated metric (right) are different. This is a clear sign that the <em>RBD</em> and the maps are de-synchronised on a large fraction of the building set of <em>Basel</em>. The other element that can be seen on the right plot is that the deduction of the construction year are more challenging where maps are available. Indeed on the temporal range covered by the maps (vertical white lines), the results drops from the overall results to <em>50-60</em>% on some of the histogram bins.</p>
<p>The following figures show the distance and pseudo-distance distribution of the error made on the deduced construction year according to the chosen metric:</p>
<div align="center" style="font-style: italic">
<img src="image/basel-dist.gif?raw=true" width="90%"> <br />
Distance (red and blue) and pseudo-distance (red) of the error on the construction years
</div>

<p>The same differences as previously observed between the two metrics can also be seen here. Another important observation is that the distribution seems mostly symmetrical. This indicates that no clear deduction bias can be observed in the results provided by the proof-of-concept.</p>
<h4>Results: Bern Area</h4>
<p>The following figures give the histogram view of the results obtained on the <em>Bern</em> area:</p>
<div align="center" style="font-style: italic">
<img src="image/bern-hist.gif?raw=true" width="90%"> <br />
Histogram of the success rate - Ten years bins
</div>

<p>One can observe that the results are similar to the result of <em>Basel</em> whilst being a bit better. In addition, one can clearly see that the difference between the <em>full RBD</em> metric and the manually validated metric huge here. This is probably the sign that the <em>RBD</em> is mostly incorrect in the case of <em>Bern</em>.</p>
<p>The following figures show the distance distributions for the case of <em>Bern</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/bern-dist.gif?raw=true" width="90%"> <br />
Distance (red and blue) and pseudo-distance (red) of the error on the construction years
</div>

<p>Again, the distribution of the error on the deduced construction year is symmetrical in the case of <em>Bern</em>.</p>
<h4>Results: Biasca Area</h4>
<p>The following figures give the histogram view of the success rate for the case of <em>Biasca</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/biasca-hist.gif?raw=true" width="90%"> <br />
Histogram of the success rate - Ten years bins
</div>

<p>In this case, the results are much better according to the manually validated metric. This can be explained by the fact that <em>Biasca</em> is a rural/mountainous area in which growing of the urban areas are much simpler as buildings once built tend to remain unchanged, limiting the difficulty to deduce a reliable construction year.</p>
<p>The following figures show the distance distribution for <em>Biasca</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/biasca-dist.gif?raw=true" width="90%"> <br />
Distance (red and blue) and pseudo-distance (red) of the error on the construction years
</div>

<p>This confirms the results seen on the histogram figure and shows that the results are very good on such areas.</p>
<h4>Results: Caslano Area</h4>
<p>Finally, the following figures show the histogram view of the success rate of the proof-of-concept on the case of <em>Caslano</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/caslano-hist.gif?raw=true" width="90%"> <br />
Histogram of the success rate - Ten years bins
</div>

<p>The same consideration applies as for the <em>Biasca</em> case. The results are very good as part of the <em>Caslano</em> area can be considered as rural or at least peri-urban. The results are a bit less good than in the <em>Biasca</em> case, drawing the picture that urban centres are more difficult to infer than rural areas.</p>
<p>The following figures show the error distribution for <em>Caslano</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/caslano-dist.gif?raw=true" width="90%"> <br />
Distance (red and blue) and pseudo-distance (red) of the error on the construction years
</div>

<h4>Results: Synthesis</h4>
<p>In order to synthesise the previous results, that were a bit dense due to the consideration of two representations and two metrics, the following summary is given:</p>
<ul>
<li>
<p><strong>Basel</strong>: <strong>78.0%</strong> of sucess rate and <strong>80.4%</strong> of building correctly placed within ±5.5 years</p>
</li>
<li>
<p><strong>Bern</strong>: <strong>84.4%</strong> of sucess rate and <strong>85.0%</strong> of building correctly placed within ±5.6 years</p>
</li>
<li>
<p><strong>Biasca</strong>: <strong>93.5%</strong> of sucess rate and <strong>93.9%</strong> of building correctly placed within ±6.0 years</p>
</li>
<li>
<p><strong>Caslano</strong>: <strong>90.8%</strong> of sucess rate and <strong>91.2%</strong> of building correctly placed within ±6.2 years</p>
</li>
</ul>
<p>These results only consider the manually validated metric for all of the four areas. By weighting each area with their amount of buildings, one can deduce the following numbers:</p>
<ul>
<li><strong>Switzerland</strong>: <strong>83.9%</strong> of success rate and <strong>84.7%</strong> of building correctly place within ±5.8 years</li>
</ul>
<p>These last numbers can be considered as a reasonable extrapolation of the proof-of-concept performance on the overall Switzerland.</p>
<h3 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h3>
<p>As a main conclusion to the national maps approach, one can consider the results as good. It was possible to develop a proof-of-concept and to apply it on selected and representative areas of Switzerland.</p>
<p>In this approach, it turns out that developing the proof-of-concept was the easy part. Indeed, finding a metric and demonstrating its representativeness and reliability was much more complicated. Indeed, as the two datasets can not be considered as fully reliable in the first place, a strategy had to be defined in order to be able to demonstrate that the chosen metric was able to assess our result in the way expected by the <em>Statistical Office</em>.</p>
<p>In addition, the metric only required one additional hypothesis on top of the two datasets. This hypothesis, consisting in assuming that the <em>synchronous</em> sub-set was a quasi-sub-set of the <em>absolutely correct construction years</em>, can be assumed to be reasonable. Nevertheless it is important to emphasise that it was necessary to make it, leading us to remains critic and careful whilst reading the results given by our metric.</p>
<p>The developed proof-of-concept was developed in <em>C++</em>, leading to an efficient code able to be used for the whole processing of Switzerland without the necessity to deeply modify it.</p>
<div align="center">
<img src="image/separator.gif?raw=true" width="5%">
</div>

<h2 id="research-approach-statistical">Research Approach: Statistical<a class="headerlink" href="#research-approach-statistical" title="Permanent link">&para;</a></h2>
<p>As the availability of the topographic/national maps does not reach the integrity of all building's year of construction in the registry, an add-on was developed to infer this information, whenever there was this need for extrapolation. Usually, the maps availability reaches the 1950s, whilst in some cities the minimum year of construction can be in the order of the 12th century, e.g. The core of this statistical model is based on the Concentric Zones Model (Park and Burgess, 1925)[6] extended to the idea of the growth of the city from the a centre (Central Business District - CBD) to all inner areas. The concept behind this statistical approach can be seen below using the example of a crop of Basel city:</p>
<div align="center" style="font-style: italic">
<img src="image/concentriczones.gif?raw=true" width="70%"> <br />
Illustration of the Burgess concentric zone model
</div>

<p>Although it is well known the limits of this model, which are strongly described in other famous urban models such as from Hoyt (1939)[7] and Harris and Ullman (1945)[8]. In general those critics refer to the simplicity of the model, which is considered and compensated for this application, especially by the fact that the main prediction target are older buildings that are assumed to follow the concentric zones pattern, differently than newer ones (Duncan et al., 1962)[9]. Commonly this is the pattern seen in many cities, hence older buildings were built in these circular patterns to some point in time when reconstructions and reforms are almost randomly placed in spatial and temporal terms. Moreover processes like gentrification are shown to be dispersed and quite recent (Rérat et al, 2010)[10].</p>
<p>In summary, a first predictor is built on the basis that data present a spatial dependence, as in many geostatistical models (Kanevski and Maignan, 2004[11]; Diggle and Ribeiro, 2007[12]; Montero and Mateu, 2015[13]). This way we are assuming that closer buildings are more related to distant buildings (Tobler, 1970[14]) in terms of year of construction and ergo the time dimension is being interpolated based on the principles of spatial models. We are here also demonstrating how those two dimensions interact. After that concentric zones are embedded through the use of quantiles, which values will be using in a probabilistic unsupervised learning technique. Finally, the predicted years are computed from the clusters generated.</p>
<h3 id="metric_1">Metric<a class="headerlink" href="#metric_1" title="Permanent link">&para;</a></h3>
<p>Similar to the detection situation, generating a validation dataset was an especially challenging task. First of all, the dates in the <em>RBD</em> database could not be trusted in their integrity and the topographic maps used did not reach this time frame. In order to ascertain the construction year in the database, aerial images from <em>swisstopo</em> (Swiss Federal Office of Topography) were consulted and this way buildings were manually selected to compound a validation dataset.</p>
<div align="center" style="font-style: italic">
<img src="image/metricimages.gif?raw=true" width="70%"> <br />
References extraction from aerial images manual analysis
</div>

<p>One of the problems related to this approach was the fact that a gap between the surveys necessary for the images exists. This way it is not able to state with precision the construction date. These gaps between surveys were approximately in the range of 5 years, although in <em>Basel</em>, for some areas, it reached 20 years. An example of this methodology to create a trustworthy validation set can be seen below. In the left-hand side one can see the year of the first image survey (up) and the year registered in the <em>RBD</em> (down) and in the right-hand side, one can see the year of the next image survey in the same temporal resolution. </p>
<h3 id="methodology_1">Methodology<a class="headerlink" href="#methodology_1" title="Permanent link">&para;</a></h3>
<p>First of all, a prior searching radius is defined as half of the largest distance (between random variables). For every prediction location, the variance between all points in the prior searching radius will be used to create a posterior searching radius. This way, the higher the variance, the smaller the searching radius, as we tend to trust data less. This is mainly based on the principle of spatial dependence used in many geostatistical interpolators. The exception to this rule is for variances that are higher than 2 x the mean distance between points. In this case, the searching radius increases again in order to avoid clusters of very old houses that during tests caused underestimation. The figure below demonstrates the logic being the creation of searching radii.</p>
<div align="center" style="font-style: italic">
<img src="image/searchingradiuses.gif?raw=true" width="90%"> <br />
Searching radii computation process
</div>

<p>being <em>d</em> the distance between points, <em>μ</em> the mean and <em>s²</em> the variance of random variable values within the prior searching radius.</p>
<p>It is important to mention that in case of very large number of missing data, if the searching radius does not find enough information, the posterior mean will be the same as the prior mean, possibly causing over/underestimation in those areas.</p>
<p>This first procedure is used to fill the gaps in the entry database so clustering can be computed. The next step is then splitting the data in 10 quantiles, what could give the idea of concentric growth zones, inspired, in Burgess Model (1925)[7]. Every point in the database will then assume the value of its quantile. It is also possible to ignore this step and pass to clustering directly, what can be useful in two situations, if a more general purpose is intended or if the concentric zones pattern is not observed in the study area. As default, this step is used, which will be followed by an unsupervised learning technique. A gaussian mixture model, which does not only segments data into clusters, but indicates the probability of each point belonging to every cluster is then performed. The number of components computed is a linear function to the total number of points being used, including the ones that previously had gaps. The function to find the number of components is the following:</p>
<div align="center">
<img src="image/equation1.gif?raw=true">
</div>

<p>being <em>np</em> the number of components/clusters, and <em>nc</em> the total number of points used. The number of clusters shall usually be very large compared to a standard clustering exercise. To avoid this, this value is being divided by ten, but the number of clusters will never be smaller than five. An example of clustering performed by the embedded gaussian mixture model can be seen below:</p>
<div align="center" style="font-style: italic">
<img src="image/clusters.gif?raw=true" width="70%"> <br />
Example of clustering process on the Basel area
</div>

<p>Hence the matrix of probabilities of every point belonging to each cluster (λ - what can be considered a matrix of weights) is multiplied by the mean of each cluster ( 1 x <em>nc</em> matrix <em>mc</em>), forming the <em>A</em> matrix:</p>
<div align="center">
<img src="image/Amatrix.gif?raw=true">
</div>

<p>or in matrices:</p>
<div align="center">
<img src="image/matrices.gif?raw=true">
</div>

<p>Finally, the predictions can then be made using the sum of each row in the <em>A</em> matrix.</p>
<p>It is important to state that the same crops (study areas) were used for this test. Although <em>Caslano</em> was not used in this case, as it possesses too few houses with a construction date below the oldest map available. Using the metric above explained a hold out cross-validation was performed, this way a group of points was only used for validation and not for training. After that, the <em>RMSE</em> (Root Mean Squared Error) was calculated using the difference between the date in the <em>RBD</em> database and the predicted one. This <em>RMSE</em> was also extrapolated to the whole Switzerland, so one could have a notion of what the overall error could be, using the following equation (for the expected error):</p>
<div align="center">
<img src="image/extrapolatederror.gif?raw=true" width="180">
</div>

<p>where <em>E</em> is the error and <em>n</em> the number of buildings in each region.</p>
<p>In addition to the <em>RMSE</em>, the <em>95th</em> percentile was computed for every study area and using all combined as well. Hence, one could discuss the spread and predictability of errors.</p>
<h3 id="results_1">Results<a class="headerlink" href="#results_1" title="Permanent link">&para;</a></h3>
<p>The first case analysed was <em>Basel</em>, where the final <em>RMSE</em> was <em>9.78</em> years. The density plot below demonstrates the distribution of errors in <em>Basel</em>, considering the difference between the year of construction in the <em>RBD</em> database and the predicted one. </p>
<div align="center" style="font-style: italic">
<img src="image/baseldensity.gif?raw=true" width="70%"> <br />
Distribution of error on construction year extrapolation
</div>

<p>Among the evaluated cases, <em>Basel</em> presented a strong visible spatial dependence, and it was also the case which the largest estimated proportion of houses with construction years older than (1955) the oldest map (<em>11336</em> or approximately <em>66</em>% of buildings). Based on the validation dataset only, there was an overall trend of underestimation and the <em>95th</em> percentile reached was <em>20</em> years, showing a not so spread and flat distribution of errors.</p>
<p>Bern was the second case evaluated, and it demonstrated to be an atypical case. This starts from the fact that a big portion of the dates seemed incongruent with reality, based on the aerial images observed and as seen in the previous detection approach. Not only that, but almost <em>80</em>% of the buildings in Bern had missing data to what refers to the year of construction. This is especially complicated as the statistical method here presented is in essence an interpolator (intYEARpolator). Basically, as in any inference problem, data that is known is used to fill unknown data, therefore a reasonable split among known and unknown inputs is expected, as well as a considerable confidence on data. In the other hand, an estimated number of <em>1079</em> (approximately <em>27</em>% of the buildings) buildings was probably older than the oldest map available (1954) in Bern crop. Therefore, in one way liability was lower in this case, but the number of prediction points was smaller too. The following figure displays the density of errors in Bern, where an <em>RMSE</em> of <em>20.64</em> years was computed.</p>
<div align="center" style="font-style: italic">
<img src="image/berndensity.gif?raw=true" width="70%"> <br />
Distribution of error on construction year extrapolation
</div>

<p>There was an overall trend for overestimation, though there was still enough lack of spread in errors, especially if one considers the 95th percentile of <em>42</em>.</p>
<p>Finally, the crop on <em>Biasca</em> was evaluated. The computed <em>RMSE</em> was of <em>13.13</em> years, which is closer to the Basel case and the <em>95th</em> percentile was <em>17</em> years, this way presenting the least spread error distribution. In <em>Biasca</em> an estimated <em>1007</em> (<em>32</em>%) buildings were found, which is not much more than the proportion in Bern, but <em>Biasca</em> older topographic map used was from 1970, making of it an especially interesting case. The density plot below demonstrates the concentrated error case of <em>Biasca</em>:</p>
<div align="center" style="font-style: italic">
<img src="image/biascadensity.gif?raw=true" width="70%"> <br />
Distribution of error on construction year extrapolation
</div>

<p>Once the <em>RMSE</em> was computed for the three regions, it was extrapolated to the whole Switzerland by making consideration the size of each dataset:</p>
<div align="center" style="font-style: italic">
<img src="image/fulldensity.gif?raw=true" width="70%"> <br />
Extrapolation of the error distribution on the whole Switzerland
</div>

<p>The expected extrapolated error calculated was <em>15.6</em> years and the <em>95th</em> percentile was then <em>31</em> years.</p>
<h3 id="conclusion_1">Conclusion<a class="headerlink" href="#conclusion_1" title="Permanent link">&para;</a></h3>
<p>This add-on allows extrapolating the predictions to beyond the range of the topographical maps. Its predictions are limited, but the accuracy reached can be considered reasonable, once there is a considerable lack of information in this prediction range. Nor the dates in the <em>RBD</em>, nor the topographic maps can be fully trusted, ergo <em>15.6</em> years of error for the older buildings is acceptable, especially by considering the relative lack of spread in errors distribution. If a suggestion for improvement were to be given, a method for smoothing the intYEARpolator predictions could be interesting. This would possibly shift the distribution of the error into closer to a gaussian with mean zero. The dangerous found when searching for such an approach is that the year of construction of buildings does not seem to present a smooth surface, despite the spatial dependence. Hence, if this were to be considered, a balance between smoothing and variability would need to found.</p>
<p>We also demonstrated a completely different perspective on how the spatial and temporal dimensions can be joined as the random variable predicted through spatial methodology was actually time. Therefore a strong demonstration of the importance of time in spatially related models and approaches was also given. The code for the intYEARpolator was developed in Python and it runs smoothly even with this quite big proportion of data. The singular case it can be quite time-demanding is in the case of high proportion of prediction points (missing values). It should also be reproducible to the whole Switzerland with no need for modification. A conditional argument is the use of concentric zones, that can be excluded in case of a total different pattern of processing time.</p>
<div align="center">
<img src="image/separator.gif?raw=true" width="5%">
</div>

<h2 id="reproduction-resources">Reproduction Resources<a class="headerlink" href="#reproduction-resources" title="Permanent link">&para;</a></h2>
<p>The source code of the <em>proof-of-concept</em> for national maps can be found here :</p>
<ul>
<li><a href="https://github.com/swiss-territorial-data-lab/regbl-poc">National maps approach proof-of-concept (regbl-poc), STDL</a></li>
</ul>
<p>The <em>README</em> provides all the information needed to compile and use the proof-of-concept. The presented results and plots can be computed using the following tools suite :</p>
<ul>
<li><a href="https://github.com/swiss-territorial-data-lab/regbl-poc-analysis">National maps approach results and plots (regbl-poc-analysis), STDL</a></li>
</ul>
<p>with again the <em>README</em> giving the instructions.</p>
<p>The <em>proof-of-concept</em> source code for the statistical approach can be found here :</p>
<ul>
<li><a href="https://github.com/swiss-territorial-data-lab/regbl-poc-intyearpolator">Statistical approach proof-of-concept (regbl-poc-intyearpolator), STDL</a></li>
</ul>
<p>with its <em>README</em> giving the procedure to follow.</p>
<p>The data needed to reproduce the national maps approach are not publicly available. For the national maps, a temporal series of the <em>1:25'000</em> maps of the same location are needed. They can be asked to <em>swisstopp</em> :</p>
<ul>
<li>GeoTIFF National Maps 1:25'000 rasters temporal sequence, swisstopo</li>
</ul>
<p>With the maps, you can follow the instruction for cutting and preparing them on the proof-of-concept <a href="https://github.com/swiss-territorial-data-lab/regbl-poc"><em>README</em></a>.</p>
<p>The <em>RBD</em> data, used for both approaches, are not publicly available either. You can query them using the request form on the website of the <em>Federal Statistical Office</em> :</p>
<ul>
<li><a href="https://www.housing-stat.ch/fr/madd.html">DSV RBD data request form</a>, Federal Statistical Office</li>
</ul>
<p>Both <em>proof-of-concepts</em> <em>READMEs</em> provide the required information to use these data.</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<p>[1] <a href="https://www.bfs.admin.ch/bfs/en/home.html">Federal Statistical Office</a></p>
<p>[2] <a href="https://www.bfs.admin.ch/bfs/en/home/registers/federal-register-buildings-dwellings.html">Federal Register of Buildings and Dwellings</a></p>
<p>[3] <a href="https://www.swisstopo.admin.ch/en/home.html">Federal Office of Topography</a></p>
<p>[4] <a href="https://shop.swisstopo.admin.ch/en/products/maps/national/lk25">National Maps (1:25'000)</a></p>
<p>[5] Conway, J. (1970), The game of life. Scientific American, vol. 223, no 4, p. 4.</p>
<p>[6] Park, R. E.; Burgess, E. W. (1925). "The Growth of the City: An Introduction to a Research Project". The City (PDF). University of Chicago Press. pp. 47–62. ISBN 9780226148199.</p>
<p>[7] Hoyt, H. (1939), The  structure and  growth of  residential neighborhoods  in  American 
cities (Washington, DC). </p>
<p>[8] Harris, C. D., and Ullman, E. L. (1945), ‘The Nature of Cities’, Annals of the American 
Academy of Political and Social Science, 242/Nov.: 7–17.</p>
<p>[9] Duncan, B., Sabagh, G., &amp; Van Arsdol,, M. D. (1962). Patterns of City Growth. American Journal of Sociology, 67(4), 418–429. doi:10.1086/223165 </p>
<p>[10] Rérat, P., Söderström, O., Piguet, E., &amp; Besson, R. (2010). From urban wastelands to new‐build gentrification: The case of Swiss cities. Population, Space and Place, 16(5), 429-442.</p>
<p>[11] Kanevski, M., &amp; Maignan, M. (2004). Analysis and modelling of spatial environmental data (Vol. 6501). EPFL press.</p>
<p>[12] Diggle, P. J. Ribeiro Jr., P. J. (2007). Model-based Geostatistics. Springer Series in Statistics.</p>
<p>[13] Montero, J. M., &amp; Mateu, J. (2015). Spatial and spatio-temporal geostatistical modeling and kriging (Vol. 998). John Wiley &amp; Sons.</p>
<p>[14] Tobler, W. R. (1970). A computer movie simulating urban growth in the Detroit region. Economic geography, 46(sup1), 234-240.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020-2021 Swiss Territorial Data Lab
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://github.com/swiss-territorial-data-lab" target="_blank" rel="noopener" title="Repo on Github" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
      <a href="mailto:<info@stdl.ch>" target="_blank" rel="noopener" title="Send us an eMail!" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../assets/javascripts/bundle.aa3f9871.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.expand'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../assets/javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>